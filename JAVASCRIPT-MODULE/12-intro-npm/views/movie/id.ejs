<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/css/movie-id.css" rel="stylesheet" type="text/css">
    <link href="/css/navbar.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Moviehub</title>    
</head>
<body>
    <main id="main container-fluid">
        <%- include('../../components/navbar.ejs') %>
        <%- include('../../partials/header.ejs') %>
        <section class="movie_descr row">
            <article class="col-md-6">
                <img class="img-fluid" src=<%= img_url %><%=datas.backdrop_path %> >

                <h3><%= datas.original_title %></h3>
                <h4 class="mb-3" style="text-decoration:underline; width: 100%">Synopsys</h4>
                <p><%= datas.overview %></p>


                <h4 style="text-decoration:underline">Genre</h4>
                <div class="movie-genre">
                    <% for(let i = 0; i < datas.genres.length; i++) { %>
                        <p><%= datas.genres[i].name %></p>
                    <% } %>
                </div>

                <h4 style="text-decoration:underline">Note :</h4>
                <strong> <%= datas.vote_average %></strong>
                <div class="movie-note">
                    <div class="stars">
                        <% if(datas.vote_average <= 1.9 && datas.vote_average >= 0) {%>
                            <!-- 1 étoile -->
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                            <i class="far fa-star"></i>
                            <i class="far fa-star"></i>
                            <i class="far fa-star"></i>
                        <% } %>
                        <% if(datas.vote_average <= 3.9 && datas.vote_average >= 2) {%>
                            <!-- 2 étoile -->
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                            <i class="far fa-star"></i>
                            <i class="far fa-star"></i>
                        <% } %>
                        <% if(datas.vote_average <= 5.9 && datas.vote_average >= 4) {%>
                            <!-- 3 étoile -->
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                            <i class="far fa-star"></i>
                        <% } %>
                        <% if(datas.vote_average <= 7.9 && datas.vote_average >= 6) {%>
                            <!-- 4 étoile -->
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                        <% } %>
                        <% if(datas.vote_average <= 10 && datas.vote_average >= 8 || datas.vote_average === 10) {%>
                            <!-- 5 étoile -->
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        <% } %>
                    </div>
                </div>
    
            </article>

            <% if(datas.homepage == "") { %>
                <div class="nav-movie">
                    <p>Aucune page du film n'est disponible</p>
                    <a class="btn btn-primary" href="/">Revenir à l'accueil</a>
                </div>
            <% } else { %>
                <div class="nav-movie">
                    <a class="btn btn-success" href="<%=datas.homepage%>">Voir la page du film</a>
                    <a class="btn btn-primary" href="/">Revenir à l'accueil</a>    
                </div>
            <% } %>


        </section>
    </main>
    <%- include('../../partials/footer.ejs') %>